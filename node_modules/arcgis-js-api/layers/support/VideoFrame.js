/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../geometry","../../core/Accessor","../../core/Clonable","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/arrayUtils","../../core/has","../../core/accessorSupport/decorators/reader","../../core/accessorSupport/decorators/subclass","../../core/accessorSupport/decorators/writer","../../geometry/Point"],(function(o,r,t,e,n,s,c,i,p,l,a,u,y,d){"use strict";let P=function(r){function t(){var o;return(o=r.apply(this,arguments)||this).sourcePoint=null,o.mapPoint=null,o}return o._inherits(t,r),o._createClass(t)}(e);function _(o){return null!=o&&null!=o.sourcePoint&&null!=o.mapPoint}r.__decorate([c.property()],P.prototype,"sourcePoint",void 0),r.__decorate([c.property({type:d})],P.prototype,"mapPoint",void 0),P=r.__decorate([u.subclass("esri.layers.support.ControlPoint")],P);let m=function(r){function t(o){var t;return(t=r.call(this,o)||this).frame=null,t.controlPoints=null,t}o._inherits(t,r);var e=t.prototype;return e.readControlPoints=function(o){return o.map((o=>({sourcePoint:{x:o.frameX,y:o.frameY},mapPoint:new d(o.point)})))},e.writeControlPoints=function(o,r){null!=o&&_(o[0])&&(r.controlPoints=o.map((o=>{const r=o.sourcePoint,t=o.mapPoint;return{frameX:r.x,frameY:r.y,point:t.toJSON()}})))},o._createClass(t)}(n.ClonableMixin(s.JSONSupport));r.__decorate([c.property({type:String})],m.prototype,"frame",void 0),r.__decorate([c.property({type:[P],json:{write:{allowNull:!1,isRequired:!0}}})],m.prototype,"controlPoints",void 0),r.__decorate([a.reader("controlPoints")],m.prototype,"readControlPoints",null),r.__decorate([y.writer("controlPoints")],m.prototype,"writeControlPoints",null),m=r.__decorate([u.subclass("esri.layers.support.VideoFrame")],m);return m}));
