/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["../../../chunks/_rollupPluginBabelHelpers"],(function(e){"use strict";let t=function(){function t(e){const t=this;t._keys=[],t._values=[],t.length=0,e&&e.forEach((e=>{t.set(e[0],e[1])}))}var s=t.prototype;return s.entries=function(){return[].slice.call(this.keys().map(((e,t)=>[e,this._values[t]])))},s.keys=function(){return[].slice.call(this._keys)},s.values=function(){return[].slice.call(this._values)},s.has=function(e){return this._keys.includes(e)},s.get=function(e){const t=this._keys.indexOf(e);return t>-1?this._values[t]:null},s.deepGet=function(e){if(!e||!e.length)return null;const s=(e,i)=>null==e?null:i.length?s(e instanceof t?e.get(i[0]):e[i[0]],i.slice(1)):e;return s(this.get(e[0]),e.slice(1))},s.set=function(e,t){const s=this,i=this._keys.indexOf(e);return i>-1?s._values[i]=t:(s._keys.push(e),s._values.push(t),s.length=s._values.length),this},s.sortedSet=function(e,t,s,i){const n=this,u=this._keys.length,h=s||0,l=void 0!==i?i:u-1;if(0===u)return n._keys.push(e),n._values.push(t),n;if(e===this._keys[h])return this._values.splice(h,0,t),this;if(e===this._keys[l])return this._values.splice(l,0,t),this;if(e>this._keys[l])return this._keys.splice(l+1,0,e),this._values.splice(l+1,0,t),this;if(e<this._keys[h])return this._values.splice(h,0,t),this._keys.splice(h,0,e),this;if(h>=l)return this;const r=h+Math.floor((l-h)/2);return e<this._keys[r]?this.sortedSet(e,t,h,r-1):e>this._keys[r]?this.sortedSet(e,t,r+1,l):this},s.size=function(){return this.length},s.clear=function(){const e=this;return e._keys.length=e.length=e._values.length=0,this},s.delete=function(e){const t=this,s=t._keys.indexOf(e);return s>-1&&(t._keys.splice(s,1),t._values.splice(s,1),t.length=t._keys.length,!0)},s.forEach=function(e){this._keys.forEach(((t,s)=>{e(this._values[s],t,s)}))},s.map=function(e){return this.keys().map(((t,s)=>e(this._values[s],t,s)))},s.filter=function(e){const t=this;return t._keys.forEach(((s,i)=>{!1===e(t._values[i],s,i)&&t.delete(s)})),this},s.clone=function(){return new t(this.entries())},e._createClass(t)}(),s=function(){function s(e=20){this._maxEntries=e,this._values=new t}var i=s.prototype;return i.delete=function(e){this._values.has(e)&&this._values.delete(e)},i.get=function(e){let t=null;return this._values.has(e)&&(t=this._values.get(e),this._values.delete(e),this._values.set(e,t)),t},i.put=function(e,t){if(this._values.size()>=this._maxEntries){const e=this._values.keys()[0];this._values.delete(e)}this._values.set(e,t)},e._createClass(s)}();return function(){function t(e=20){this._maxEntries=e,this._cache=new s(this._maxEntries)}var i=t.prototype;return i.clear=function(){this._cache=new s(this._maxEntries)},i.addToCache=function(e,t){this._cache.put(e,t)},i.removeFromCache=function(e){this._cache.delete(e)},i.getFromCache=function(e){return this._cache.get(e)},e._createClass(t)}()}));
