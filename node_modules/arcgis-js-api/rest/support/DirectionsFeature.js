/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../geometry","../../Graphic","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/arrayUtils","../../core/has","../../core/accessorSupport/decorators/reader","../../core/accessorSupport/decorators/subclass","./DirectionsEvent","./DirectionsString","../../geometry/Polyline"],(function(e,r,t,s,o,n,p,c,a,u,l,i,y){"use strict";function d(e){if(null==e||""===e)return null;let r=0,t=0,s=0,o=0;const n=[];let p,c,a,u,l,i,y,d,h=0,f=0,m=0;if(l=e.match(/((\+|\-)[^\+\-\|]+|\|)/g),l||(l=[]),0===parseInt(l[h],32)){h=2;const e=parseInt(l[h],32);h++,i=parseInt(l[h],32),h++,1&e&&(f=l.indexOf("|")+1,y=parseInt(l[f],32),f++),2&e&&(m=l.indexOf("|",f)+1,d=parseInt(l[m],32),m++)}else i=parseInt(l[h],32),h++;for(;h<l.length&&"|"!==l[h];){p=parseInt(l[h],32)+r,h++,r=p,c=parseInt(l[h],32)+t,h++,t=c;const e=[p/i,c/i];f&&(u=parseInt(l[f],32)+s,f++,s=u,e.push(u/y)),m&&(a=parseInt(l[m],32)+o,m++,o=a,e.push(a/d)),n.push(e)}return{paths:[n],hasZ:f>0,hasM:m>0}}let h=function(r){function t(e){var t;return(t=r.call(this,e)||this).events=null,t.strings=null,t}return e._inherits(t,r),t.prototype.readGeometry=function(e,r){const t=d(r.compressedGeometry);return null!=t?y.fromJSON(t):null},e._createClass(t)}(s);r.__decorate([o.property({type:[l]})],h.prototype,"events",void 0),r.__decorate([a.reader("geometry",["compressedGeometry"])],h.prototype,"readGeometry",null),r.__decorate([o.property({type:[i]})],h.prototype,"strings",void 0),h=r.__decorate([u.subclass("esri.rest.support.DirectionsFeature")],h);return h}));
