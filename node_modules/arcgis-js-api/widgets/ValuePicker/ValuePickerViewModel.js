/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/Evented","../../core/Logger","../../core/promiseUtils","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/arrayUtils","../../core/has","../../core/accessorSupport/decorators/subclass"],(function(t,e,o,r,a,i,n,l,p,s){"use strict";const u={first:!0},c={first:!1};let _=function(e){function o(t){var o;return(o=e.call(this,t)||this)._animationController=null,o.disabled=!1,o.layout="horizontal",o.loop=!1,o.playRate=1e3,o.values=null,o}t._inherits(o,e);var i=o.prototype;return i.destroy=function(){this._pause()},i.next=function(){this.emit("next")},i.pause=function(){this.emit("pause"),this._pause()},i.play=function(){this.emit("play"),this._play()},i.previous=function(){this.emit("previous")},i._pause=function(){this._animationController?.abort(),this._animationController=null},i._play=function(){this._pause(),this._animationController=new AbortController,this._animate(u)},i._animate=async function(t){if(this.emit("animate",t),this._animationController){try{await a.after(this.playRate,null,this._animationController.signal)}catch(e){return a.isAbortError(e)||r.getLogger(this).error(e),void this._pause()}this._animate(c)}},t._createClass(o,[{key:"state",get:function(){return this._animationController?"playing":"ready"}}]),o}(o.EventedAccessor);e.__decorate([i.property()],_.prototype,"_animationController",void 0),e.__decorate([i.property({nonNullable:!0})],_.prototype,"disabled",void 0),e.__decorate([i.property({nonNullable:!0})],_.prototype,"layout",void 0),e.__decorate([i.property({nonNullable:!0})],_.prototype,"loop",void 0),e.__decorate([i.property({nonNullable:!0})],_.prototype,"playRate",void 0),e.__decorate([i.property({readOnly:!0})],_.prototype,"state",null),e.__decorate([i.property()],_.prototype,"values",void 0),e.__decorate([i.property()],_.prototype,"next",null),e.__decorate([i.property()],_.prototype,"pause",null),e.__decorate([i.property()],_.prototype,"play",null),e.__decorate([i.property()],_.prototype,"previous",null),_=e.__decorate([s.subclass("esri.widgets.ValuePicker.ValuePickerViewModel")],_);return _}));
