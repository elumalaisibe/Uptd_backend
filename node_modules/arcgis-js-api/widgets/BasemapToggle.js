/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["require","../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/cast","../core/arrayUtils","../core/has","../core/accessorSupport/decorators/subclass","./Widget","./BasemapToggle/BasemapToggleViewModel","./BasemapToggle/css","./support/componentsUtils","./support/decorators/accessibleHandler","./support/decorators/messageBundle","./support/jsxFactory","./support/widgetUtils"],(function(e,t,s,a,o,i,l,r,n,c,p,d,u,g,m,v){"use strict";function y(e){const t=c.getThumbnailUrl(e);return t?{backgroundImage:"url("+t+")"}:{backgroundImage:""}}const b={title:!1};let S=function(s){function a(e,t){var a;return(a=s.call(this,e,t)||this).messages=null,a.viewModel=new c,a.visibleElements={...b},a}t._inherits(a,s);var o=a.prototype;return o.loadDependencies=function(){return d.loadCalciteComponents({icon:()=>new Promise(((t,s)=>e(["../chunks/calcite-icon"],t,s))),scrim:()=>new Promise(((t,s)=>e(["../chunks/calcite-scrim"],t,s)))})},o.castVisibleElements=function(e){return{...b,...e}},o.toggle=function(){return this.viewModel.toggle()},o.render=function(){const e=this.viewModel,t="disabled"===e.state?null:e.activeBasemap,s="disabled"===e.state?null:e.nextBasemap,a="loading"===e.state,o="incompatible-next-basemap"===e.state,i=s?s.title:"",l=s&&"loaded"!==s.loadStatus;let r;const n=this.visibleElements.title&&i,c=o;return(n||c)&&(r=m.tsx("div",{class:p.CSS.overlay,key:"overlay"},n?m.tsx("span",{class:p.CSS.title,title:i},i):null,c?m.tsx("calcite-scrim",{class:p.CSS.overlayScrim,title:this.messages.incompatibleSpatialReference},m.tsx("calcite-icon",{icon:"exclamation-mark-triangle"})):null)),m.tsx("div",{class:this.classes(p.CSS.base,o?p.CSS.disabled:null),role:"button","data-basemap-id":s?s.id:"",bind:this,onclick:this._toggle,onkeydown:this._toggle,tabIndex:o?-1:0,title:this.label},m.tsx("div",{class:this.classes(p.CSS.container,p.CSS.secondaryBasemapImage)},m.tsx("div",{class:p.CSS.image,styles:y(t)})),m.tsx("div",{class:p.CSS.container},m.tsx("div",{class:this.classes(p.CSS.image,l?p.CSS.imageLoading:null),styles:y(s)},l||a?m.tsx("calcite-scrim",null,m.tsx("span",{"aria-hidden":"true",role:"presentation",class:p.CSS.loaderAnimation})):null),r))},o._toggle=function(){this.toggle()},t._createClass(a,[{key:"activeBasemap",get:function(){return this.viewModel.activeBasemap}},{key:"label",get:function(){return this.messages?.widgetLabel??""},set:function(e){this._overrideIfSome("label",e)}},{key:"nextBasemap",get:function(){return this.viewModel.nextBasemap},set:function(e){this.viewModel.nextBasemap=e}},{key:"view",get:function(){return this.viewModel.view},set:function(e){this.viewModel.view=e}}]),a}(n);s.__decorate([a.property({readOnly:!0})],S.prototype,"activeBasemap",null),s.__decorate([a.property()],S.prototype,"label",null),s.__decorate([a.property(),g.messageBundle("esri/widgets/BasemapToggle/t9n/BasemapToggle")],S.prototype,"messages",void 0),s.__decorate([a.property()],S.prototype,"nextBasemap",null),s.__decorate([a.property()],S.prototype,"view",null),s.__decorate([a.property({type:c})],S.prototype,"viewModel",void 0),s.__decorate([a.property()],S.prototype,"visibleElements",void 0),s.__decorate([o.cast("visibleElements")],S.prototype,"castVisibleElements",null),s.__decorate([u.accessibleHandler()],S.prototype,"_toggle",null),S=s.__decorate([r.subclass("esri.widgets.BasemapToggle")],S);return S}));
