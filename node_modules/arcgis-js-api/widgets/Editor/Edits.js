/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/Accessor","../../core/HandleOwner","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/arrayUtils","../../core/has","../../core/accessorSupport/decorators/subclass"],(function(e,t,r,i,s,o,n,u,a,d){"use strict";function c(e){return null==e?null:JSON.stringify(e)}e.Edits=function(e){function r(t){var r;return(r=e.call(this,t)||this)._baselineAttributesJSON=null,r._baselineGeometryJSON=null,r._stagedForDelete=!1,r.feature=null,r}t._inherits(r,e);var i=r.prototype;return i.stageDelete=function(){this._stagedForDelete=!0},i.unstageDelete=function(){this._stagedForDelete=!1},i.trackChanges=function(){const{feature:e}=this;if(!e)return;const{attributes:t,geometry:r}=e;this._baselineAttributesJSON=this._stringifyAttributes(t),this._baselineGeometryJSON=this._stringifyGeometry(r),this.notifyChange("attributesModified"),this.notifyChange("geometryModified")},i.updateAttributes=function(e){const{feature:t}=this;t&&(t.attributes=e,this.notifyChange("attributesModified"))},i.updateGeometry=function(e){const{feature:t}=this;t&&(t.geometry=e,this.notifyChange("geometryModified"))},i._stringifyAttributes=function(e){return c(e)},i._stringifyGeometry=function(e){return c("mesh"===e?.type?{transform:e.transform,vertexSpace:e.vertexSpace}:e)},t._createClass(r,[{key:"attributesModified",get:function(){const e=this.feature?.attributes;return null!=e&&this._baselineAttributesJSON!==this._stringifyAttributes(e)}},{key:"geometryModified",get:function(){const e=this.feature?.geometry;return null!=e&&this._baselineGeometryJSON!==this._stringifyGeometry(e)}},{key:"stagedForDelete",get:function(){return this._stagedForDelete}},{key:"modified",get:function(){return this.attributesModified||this.geometryModified||this._stagedForDelete}}]),r}(s.HandleOwnerMixin(i)),r.__decorate([o.property()],e.Edits.prototype,"_stagedForDelete",void 0),r.__decorate([o.property()],e.Edits.prototype,"attributesModified",null),r.__decorate([o.property()],e.Edits.prototype,"feature",void 0),r.__decorate([o.property()],e.Edits.prototype,"geometryModified",null),r.__decorate([o.property()],e.Edits.prototype,"modified",null),e.Edits=r.__decorate([d.subclass("esri.widgets.Editor.Edits")],e.Edits),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
