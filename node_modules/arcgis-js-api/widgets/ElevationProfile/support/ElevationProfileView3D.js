/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../core/Handles","../../../core/maybe","../../../core/reactiveUtils","./constants","./HoveredPoints","./InputRepresentation3D","./ProfileLines3D"],(function(e,t,i,n,o,s,r,a,l){"use strict";let h=function(){function e(e,t){this._handles=new i,this._inputRepresentation=new a.InputRepresentation3D({view:e}),this._hoveredPoints=new r.HoveredPoints({view:e}),this._profileLines=new l.ProfileLines3D({view:e}),this._handles.add([o.watch((()=>t.viewModel.hoveredPoints),(e=>this._hoveredPoints.update(e)),o.syncAndInitial),o.watch((()=>{const{state:e,editable:i,highlightEnabled:o,viewModel:s}=t,r=s.input;return n.applySome(r,(e=>{e.commitProperty("geometry"),e.commitProperty("layer")})),{input:r,state:e,editable:i,highlightEnabled:o}}),(e=>this._updateInputRepresentation(e)),o.syncAndInitial),o.watch((()=>t.viewModel.chartData),(e=>this._profileLines.update(e)),o.syncAndInitial),o.watch((()=>n.applySome(t.viewModel.input,(e=>e.geometry))),(()=>{this._profileLines.remove()}),o.syncAndInitial)])}var h=e.prototype;return h.destroy=function(){this._handles=n.destroyMaybe(this._handles),this._inputRepresentation=n.destroyMaybe(this._inputRepresentation),this._hoveredPoints=n.destroyMaybe(this._hoveredPoints),this._profileLines=n.destroyMaybe(this._profileLines)},h._updateInputRepresentation=function({input:e,state:t,editable:i,highlightEnabled:n}){const o=this._inputRepresentation;if(!n)return o.remove();t===s.ElevationProfileState.Selected?o.showHighlight(e):t!==s.ElevationProfileState.Created||i?o.remove():o.showReshaping(e)},t._createClass(e)}();e.ElevationProfileView3D=h,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
