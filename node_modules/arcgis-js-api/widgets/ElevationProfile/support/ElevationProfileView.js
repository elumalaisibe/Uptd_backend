/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["require","exports","../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../core/Accessor","../../../core/asyncUtils","../../../core/Handles","../../../core/maybe","../../../core/promiseUtils","../../../core/reactiveUtils","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/ensureType","../../../core/arrayUtils","../../../core/has","../../../core/accessorSupport/decorators/subclass"],(function(e,i,o,t,s,r,l,a,n,c,h,d,p,w,u){"use strict";i.ElevationProfileView=function(i){function t(e){var o;return(o=i.call(this,e)||this)._implementation=null,o._loadingTask=null,o._handles=new l,o}o._inherits(t,i);var s=t.prototype;return s.initialize=function(){this._handles.add(c.watch((()=>({tool:this.tool,view:this.tool.viewModel.view,visible:this.tool.visible&&!!a.applySome(this.tool.viewModel.view,(e=>e.ready))})),(({tool:e,view:i,visible:o})=>{null!=i&&o?this._show(i,e):this._hide()}),c.syncAndInitial))},s.destroy=function(){this._handles=a.destroyMaybe(this._handles),this._hide()},s._show=function(i,o){this._loadingTask=a.abortMaybe(this._loadingTask),this._loadingTask=r.createTask((async t=>{if("2d"===i.type){const s=new Promise(((i,o)=>e(["./ElevationProfileView2D"],i,o))),r=(await n.whenOrAbort(s,t)).ElevationProfileView2D;this._implementation=new r(i,o)}else if("3d"===i.type){const s=new Promise(((i,o)=>e(["./ElevationProfileView3D"],i,o))),r=(await n.whenOrAbort(s,t)).ElevationProfileView3D;this._implementation=new r(i,o)}}))},s._hide=function(){this._loadingTask=a.abortMaybe(this._loadingTask),this._implementation=a.destroyMaybe(this._implementation)},o._createClass(t)}(s),t.__decorate([h.property()],i.ElevationProfileView.prototype,"tool",void 0),i.ElevationProfileView=t.__decorate([u.subclass("esri.widgets.ElevationProfile.support.ElevationProfileView")],i.ElevationProfileView),Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})}));
