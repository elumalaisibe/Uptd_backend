/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","../TimeExtent","../Viewpoint","../core/Error","../core/Identifiable","../core/JSONSupport","../core/lang","../core/Logger","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/cast","../core/accessorSupport/decorators/reader","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","../core/accessorSupport/ensureType","../webdoc/support/SlideThumbnail"],(function(e,t,r,o,n,i,p,s,a,l,c,u,d,w,m,y){"use strict";var h;let b=h=function(t){function r(e){var r;return(r=t.call(this,e)||this).name=null,r.thumbnail=new y.SlideThumbnail,r.timeExtent=null,r}e._inherits(r,t);var i=r.prototype;return i.castThumbnail=function(e){return"string"==typeof e?new y.SlideThumbnail({url:e}):m.ensureType(y.SlideThumbnail,e)},i.readViewpoint=function(e,t){const{extent:r,viewpoint:n}=t;return o.fromJSON(n||{targetGeometry:r})},i.writeViewpoint=function(e,t,r,o){if(!e)return;const{targetGeometry:i}=e;if(null==i||"extent"===i.type)null!=i&&(t.extent=i.toJSON()),t[r]=e.toJSON();else{const e="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";o?.messages?o.messages.push(new n("property:unsupported",e)):a.getLogger(this).error(e)}},i.clone=function(){return new h(s.clone({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))},e._createClass(r,[{key:"viewpoint",set:function(e){const{targetGeometry:t,scale:r}=e;null!=t&&"point"===t.type&&null==r&&a.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",e),this._set("viewpoint",e)}}]),r}(i.IdentifiableMixin(p.JSONSupport));t.__decorate([l.property({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],b.prototype,"name",void 0),t.__decorate([l.property({type:y.SlideThumbnail,json:{write:{overridePolicy:e=>({enabled:!(!e||!e.url)})}}})],b.prototype,"thumbnail",void 0),t.__decorate([c.cast("thumbnail")],b.prototype,"castThumbnail",null),t.__decorate([l.property({type:r,json:{write:!0}})],b.prototype,"timeExtent",void 0),t.__decorate([l.property({type:o,nonNullable:!0,json:{write:!0}})],b.prototype,"viewpoint",null),t.__decorate([u.reader("viewpoint",["extent","viewpoint"])],b.prototype,"readViewpoint",null),t.__decorate([w.writer("viewpoint")],b.prototype,"writeViewpoint",null),b=h=t.__decorate([d.subclass("esri.webmap.Bookmark")],b);return b}));
