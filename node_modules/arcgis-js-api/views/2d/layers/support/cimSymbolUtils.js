/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../symbols/cim/cimAnalyzer","../../../../symbols/cim/ExpandedCIM","./webStyleUtils"],(function(e,t,a,n){"use strict";const i=async(e,n,i)=>{const r=new t.CIMAnalyzer(i,n);return new a.ExpandedCIM(await r.analyzeSymbolReference(e.data,!1),e.data,e.rendererKey,e.maxVVSize)};async function r(e,t,a,r){if(!e)return null;if("cim"===e.type)return i(e,t,a);if("web-style"===e.type){const l={type:"cim",data:await n.fetchCIMSymbolReference(e,null,r)??void 0,rendererKey:e.rendererKey,maxVVSize:e.maxVVSize};return i(l,t,a)}return e}function l(e){if(!e)return null;const{avoidSDFRasterization:t,type:a,cim:n,url:i,materialHash:r,maxVVSize:l}=e,s={cim:n,type:a,mosaicHash:r,url:i,size:null,dashTemplate:null,path:null,text:null,fontName:null,animatedSymbolProperties:null,avoidSDFRasterization:t};switch(a){case"marker":l&&"size"in n&&(n.size=Math.max(l,n.size)),s.size=e.size,s.path=e.path,s.animatedSymbolProperties=e.animatedSymbolProperties;break;case"line":s.dashTemplate=e.dashTemplate;break;case"text":s.text=e.text,s.fontName=e.fontName}return s}e.cimLayerToRasterizationInfo=l,e.expandSymbol=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
