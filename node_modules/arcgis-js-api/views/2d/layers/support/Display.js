/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../engine/Bitmap","../../engine/BitmapContainer"],(function(t,e,i,a){"use strict";let n=function(t){function a(a){var n;return(n=t.call(this)||this).requestRender=n.requestRender.bind(e._assertThisInitialized(n)),n._layerView=a,n._canvas=document.createElement("canvas"),n._context=n._canvas.getContext("2d"),n._bitmap=new i.Bitmap(n._canvas),n.addChild(n._bitmap),n}e._inherits(a,t);var n=a.prototype;return n.doRender=function(t){const i=t.state,n=this._createCustomRenderParams(t),o=this._canvas,r=this._bitmap,s=window.devicePixelRatio;o.width=i.size[0]*s,o.height=i.size[1]*s,r.resolution=i.resolution;const l=i.clone();l.pixelRatio=s,r.pixelRatio=s,n.state=l,r.x=i.viewpoint.targetGeometry.x-Math.abs(i.extent.xmax-i.extent.xmin)/2,r.y=i.viewpoint.targetGeometry.y+Math.abs(i.extent.ymax-i.extent.ymin)/2,this._layerView.render(n),r.rotation=i.rotation,r.invalidateTexture(),e._get(e._getPrototypeOf(a.prototype),"doRender",this).call(this,{...t,state:l})},n._createCustomRenderParams=function(t){return{globalOpacity:t.globalOpacity,state:t.state,stationary:t.stationary,pixelRatio:window.devicePixelRatio,context:this._context}},e._createClass(a)}(a.BitmapContainer);t.Display=n,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
