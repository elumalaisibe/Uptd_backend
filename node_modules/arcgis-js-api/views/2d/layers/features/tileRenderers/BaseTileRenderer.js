/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["../../../../../chunks/_rollupPluginBabelHelpers","../../../../../chunks/tslib.es6","../../../../../core/HandleOwner","../../../../../core/has","../../../../../core/accessorSupport/decorators/property","../../../../../core/accessorSupport/ensureType","../../../../../core/arrayUtils","../../../../../core/accessorSupport/decorators/subclass"],(function(e,t,i,r,s,o,n,a){"use strict";let l=function(t){function i(e){var i;return(i=t.call(this,e)||this).tiles=new Map,i}e._inherits(i,t);var s=i.prototype;return s.destroy=function(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null},s.acquireTile=function(e){const t=this.createTile(e);return t.once("isReady",(()=>this.notifyChange("updating"))),this.tiles.set(e.id,t),this.notifyChange("updating"),t},s.forceAttributeTextureUpload=function(){},s.forEachTile=function(e){this.tiles.forEach(e)},s.releaseTile=function(e){this.tiles.delete(e.key.id),this.notifyChange("updating"),this.disposeTile(e)},s.isUpdating=function(){let e=!0;this.tiles.forEach((t=>{e=e&&t.isReady}));const t=!e;if(r("esri-2d-log-updating")){let i="";this.tiles.forEach((t=>{const r=t.updateStatus;i+=`-> ${t.key.id}: isReady: ${t.isReady} status: ${r}\n`,e=e&&t.isReady})),console.log(`Updating BaseTileRenderer ${t}\n${i}`)}return t},s.setHighlight=function(){},s.invalidateLabels=function(){},s.requestUpdate=function(){this.layerView.requestUpdate()},e._createClass(i,[{key:"updating",get:function(){return this.isUpdating()}}]),i}(i.HandleOwner);t.__decorate([s.property()],l.prototype,"layer",void 0),t.__decorate([s.property()],l.prototype,"layerView",void 0),t.__decorate([s.property()],l.prototype,"tileInfoView",void 0),t.__decorate([s.property()],l.prototype,"updating",null),l=t.__decorate([a.subclass("esri.views.2d.layers.features.tileRenderers.BaseTileRenderer")],l);return l}));
