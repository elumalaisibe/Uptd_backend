/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/mat2d","../../../../chunks/mat2df32","../../../../chunks/mat3","../../../../chunks/mat3f32","./definitions","./TiledDisplayObject"],(function(t,e,s,r,i,n,a,o){"use strict";let c=function(){function t(){}var s=t.prototype;return s.acquire=function(t){return{refCount:1,version:-1,labelMat2d:r.create(),tileMat3:n.create(),dvs:n.create()}},s.release=function(t){},e._createClass(t)}(),l=function(t){function n(e,s,r,i){return t.call(this,e,s,r,i,a.TILE_SIZE,a.TILE_SIZE)||this}e._inherits(n,t);var o=n.prototype;return o.destroy=function(){e._get(e._getPrototypeOf(n.prototype),"destroy",this).call(this),this._transforms&&n.TransformCache.release(this.key.hash)},o.setTransform=function(t){const e=this.resolution/t.resolution,n=this.transforms.tileMat3,[a,o]=t.toScreenNoRotation([0,0],[this.x,this.y]),c=this.width/this.rangeX*e,l=this.height/this.rangeY*e;i.set(n,c,0,0,0,l,0,a,o,1),i.multiply(this.transforms.dvs,t.displayViewMat3,n);const h=this.transforms.labelMat2d,u=window.devicePixelRatio,f=s.set(r.create(),c*u,0,0,l*u,a*u,o*u);s.multiply(h,t.viewMat2d,f)},o._createTransforms=function(){return n.TransformCache.acquire(this.key.hash)},e._createClass(n)}(o.TiledDisplayObject);l.TransformCache=new c,t.WGLTile=l,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
