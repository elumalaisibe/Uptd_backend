/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../core/maybe","./DefaultVertexAttributeLayouts","./shaders/BitBlitPrograms","../../../webgl/BufferObject","../../../webgl/enums","../../../webgl/ProgramTemplate","../../../webgl/VertexArrayObject"],(function(e,t,r,i,n,a,s,o,l){"use strict";let c=function(){function e(){this._initialized=!1}var c=e.prototype;return c.dispose=function(){this._program=r.disposeMaybe(this._program),this._vertexArrayObject=r.disposeMaybe(this._vertexArrayObject)},c.render=function(e,t,r,i){e&&(this._initialized||this._initialize(e),e.setBlendFunctionSeparate(s.BlendFactor.ONE,s.BlendFactor.ONE_MINUS_SRC_ALPHA,s.BlendFactor.ONE,s.BlendFactor.ONE_MINUS_SRC_ALPHA),e.bindVAO(this._vertexArrayObject),e.useProgram(this._program),t.setSamplingMode(r),e.bindTexture(t,0),this._program.setUniform1i("u_tex",0),this._program.setUniform1f("u_opacity",i),e.drawArrays(s.PrimitiveType.TRIANGLE_STRIP,0,4),e.bindTexture(null,0),e.bindVAO())},c._initialize=function(e){if(this._initialized)return!0;const t=o.createProgram(e,n.bitBlit);if(!t)return!1;const r=new Int8Array(16);r[0]=-1,r[1]=-1,r[2]=0,r[3]=0,r[4]=1,r[5]=-1,r[6]=1,r[7]=0,r[8]=-1,r[9]=1,r[10]=0,r[11]=1,r[12]=1,r[13]=1,r[14]=1,r[15]=1;const c=n.bitBlit.attributes,u=new l.VertexArrayObject(e,c,i.PosTex2b,{geometry:a.BufferObject.createVertex(e,s.Usage.STATIC_DRAW,r)});return this._program=t,this._vertexArrayObject=u,this._initialized=!0,!0},t._createClass(e)}();e.BitBlitRenderer=c,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
