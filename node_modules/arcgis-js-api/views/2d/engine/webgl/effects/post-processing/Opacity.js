/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../../../chunks/_rollupPluginBabelHelpers","../../../../../../core/maybe","../../../../../webgl/enums","../../../../../webgl/Texture","../../../../../webgl/TextureDescriptor"],(function(e,t,r,i,s,n){"use strict";let l=function(){function e(){this._size=[0,0],this._layerFBOTexture=null}var l=e.prototype;return l.dispose=function(){this._layerFBOTexture=r.disposeMaybe(this._layerFBOTexture)},l.draw=function(e,t,r){const{width:s,height:n}=t;this._createOrResizeResources(e,s,n);const{context:l,painter:o}=e,{amount:a}=r,u=l.gl,c=this._layerFBOTexture;l.bindFramebuffer(t),t.copyToTexture(0,0,s,n,0,0,c),l.setBlendingEnabled(!0),l.setStencilTestEnabled(!1),l.setDepthTestEnabled(!1),l.setClearColor(0,0,0,0),l.clear(u.COLOR_BUFFER_BIT),o.blitTexture(l,c,i.TextureSamplingMode.NEAREST,a)},l._createOrResizeResources=function(e,t,r){const{context:l}=e;if(!this._layerFBOTexture||this._size[0]!==t||this._size[1]!==r)if(this._size[0]=t,this._size[1]=r,this._layerFBOTexture)this._layerFBOTexture.resize(t,r);else{const e=new n.TextureDescriptor;e.internalFormat=i.PixelFormat.RGBA,e.wrapMode=i.TextureWrapMode.CLAMP_TO_EDGE,e.samplingMode=i.TextureSamplingMode.NEAREST,e.width=t,e.height=r,this._layerFBOTexture=new s.Texture(l,e)}},t._createClass(e)}();e.Opacity=l,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
