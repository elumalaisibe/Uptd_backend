/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["../../../../../chunks/_rollupPluginBabelHelpers","../enums","./Programs"],(function(r,e,a){"use strict";return function(){function t(){this._programByKey=new Map}var n=t.prototype;return n.dispose=function(){this._programByKey.forEach((r=>r.dispose())),this._programByKey.clear()},n.getMaterialProgram=function(r,e,a){const t=e.key<<3|this._getMaterialOptionsValue(e.type,a);if(this._programByKey.has(t))return this._programByKey.get(t);const n=this._getProgramTemplate(e.type),{shaders:o}=n,{vertexShader:s,fragmentShader:i}=o(a),c=e.getShaderHeader(),p=e.getShaderMain(),u=s.replace("#pragma header",c).replace("#pragma main",p),g=r.programCache.acquire(u,i,e.getAttributeLocations());return this._programByKey.set(t,g),g},n._getMaterialOptionsValue=function(r,a){switch(r){case e.ShaderProgramType.BACKGROUND:{const r=a;return(r.pattern?1:0)<<1|(r.id?1:0)}case e.ShaderProgramType.FILL:{const r=a;return(r.pattern?1:0)<<1|(r.id?1:0)}case e.ShaderProgramType.OUTLINE:return a.id?1:0;case e.ShaderProgramType.LINE:{const r=a;return(r.sdf?1:0)<<2|(r.pattern?1:0)<<1|(r.id?1:0)}case e.ShaderProgramType.ICON:{const r=a;return(r.sdf?1:0)<<1|(r.id?1:0)}case e.ShaderProgramType.CIRCLE:return a.id?1:0;case e.ShaderProgramType.TEXT:return a.id?1:0;default:return 0}},n._getProgramTemplate=function(r){switch(r){case e.ShaderProgramType.BACKGROUND:return a.background;case e.ShaderProgramType.CIRCLE:return a.circle;case e.ShaderProgramType.FILL:return a.fill;case e.ShaderProgramType.ICON:return a.icon;case e.ShaderProgramType.LINE:return a.line;case e.ShaderProgramType.OUTLINE:return a.outline;case e.ShaderProgramType.TEXT:return a.text;default:return null}},r._createClass(t)}()}));
