/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../chunks/_rollupPluginBabelHelpers","./contextUtils"],(function(t,e,r){"use strict";let n,o;function s(t){const e=r.getContextTypes(t);for(;e.length>1;){const t=l(e.shift());if(t.available)return t}return l(e.shift())}function l(t){switch(t){case r.ContextType.WEBGL1:return a();case r.ContextType.WEBGL2:return u()}}function a(){return n||(n=E()),n}function u(){return o||(o=x()),o}let i=e._createClass((function(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1,this.supportsTextureHalfFloat=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1})),p=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).type=r.ContextType.WEBGL1,e}return e._inherits(n,t),e._createClass(n)}(i),f=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).type=r.ContextType.WEBGL2,e.supportsElementIndexUint=!0,e.supportsStandardDerivatives=!0,e.supportsInstancedArrays=!0,e.supportsTextureFloat=!0,e.supportsTextureHalfFloat=!0,e}return e._inherits(n,t),e._createClass(n)}(i);function c(t,e){if(t===r.ContextType.WEBGL1&&"undefined"==typeof WebGLRenderingContext||t===r.ContextType.WEBGL2&&"undefined"==typeof WebGL2RenderingContext)return null;const n=document.createElement("canvas");if(!n)return null;let o=r.createContext(n,t,{failIfMajorPerformanceCaveat:!0});if(null==o&&(o=r.createContext(n,t),null!=o&&(e.majorPerformanceCaveat=!0)),null==o)return o;if(t===r.ContextType.WEBGL1){const t=o.getParameter(o.VERSION),r=t?.match(/^WebGL\s+([\d.]*)/);if(r){const t=parseFloat(r[1]);e.available=t>=.94}}else e.available=!0;e.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=o.getParameter(o.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const s=o.getShaderPrecisionFormat(o.FRAGMENT_SHADER,o.HIGH_FLOAT);return s&&(e.supportsHighPrecisionFragment=s.precision>0),o}function E(){const t=new p,e=c(r.ContextType.WEBGL1,t);return null==e||(t.supportsElementIndexUint=null!==e.getExtension("OES_element_index_uint"),t.supportsStandardDerivatives=null!==e.getExtension("OES_standard_derivatives"),t.supportsInstancedArrays=null!==e.getExtension("ANGLE_instanced_arrays"),t.supportsTextureFloat=null!==e.getExtension("OES_texture_float"),t.supportsTextureHalfFloat=null!==e.getExtension("OES_texture_half_float"),t.supportsColorBufferFloat=null!==e.getExtension("WEBGL_color_buffer_float"),t.supportsColorBufferFloatBlend=null!==e.getExtension("EXT_float_blend"),t.supportsColorBufferHalfFloat=null!==e.getExtension("EXT_color_buffer_half_float")),t}function x(){const t=new f,e=c(r.ContextType.WEBGL2,t);return null==e||(t.supportsColorBufferFloat=null!==e.getExtension("EXT_color_buffer_float"),t.supportsColorBufferFloatBlend=null!==e.getExtension("EXT_float_blend"),t.supportsColorBufferHalfFloat=t.supportsColorBufferFloat||null!==e.getExtension("EXT_color_buffer_half_float")),t}t.getWebGL1Capabilities=a,t.getWebGL2Capabilities=u,t.getWebGLCapabilities=s,t.getWebGLVersionCapabilities=l,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
