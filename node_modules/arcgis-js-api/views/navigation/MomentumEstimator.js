/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/mathUtils","./FilteredFiniteDifference","./Momentum"],(function(e,t,i,l,n){"use strict";let s=function(){function e(e=2.5,t=.01,i=.95,n=12){this._minimumInitialVelocity=e,this._stopVelocity=t,this._friction=i,this._maxVelocity=n,this.enabled=!0,this.value=new l.FilteredFiniteDifference(.8),this.time=new l.FilteredFiniteDifference(.3)}var s=e.prototype;return s.add=function(e,t){if(this.enabled&&null!=t){if(this.time.hasLastValue()){if(this.time.computeDelta(t)<.01)return;if(this.value.hasFilteredDelta()){const t=this.value.computeDelta(e);this.value.filteredDelta*t<0&&this.value.reset()}}this.time.update(t),this.value.update(e)}},s.reset=function(){this.value.reset(),this.time.reset()},s.evaluateMomentum=function(){if(!this.enabled||!this.value.hasFilteredDelta()||!this.time.hasFilteredDelta())return null;let e=this.value.filteredDelta/this.time.filteredDelta;return e=i.clamp(e,-this._maxVelocity,this._maxVelocity),Math.abs(e)<this._minimumInitialVelocity?null:this.createMomentum(e,this._stopVelocity,this._friction)},s.createMomentum=function(e,t,i){return new n.Momentum(e,t,i)},t._createClass(e)}();e.MomentumEstimator=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
