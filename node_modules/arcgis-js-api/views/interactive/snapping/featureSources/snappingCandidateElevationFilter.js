/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../core/has"],(function(t,n,e){"use strict";let r=function(){function t(){}var e=t.prototype;return e.filter=function(t,n){return n},e.notifyElevationSourceChange=function(){},n._createClass(t)}(),o=function(){function t(){}var e=t.prototype;return e.filter=function(t,n){const{point:e,distance:r}=t,{z:o}=e;if(!(null!=o))return n;if(0===n.length)return n;const c=f(r),u=this._updateCandidatesTo3D(n,e,c).filter(i);return u.sort(d),u},e._updateCandidatesTo3D=function(t,n,e){for(const r of t)switch(r.type){case"edge":u(r,n,e);continue;case"vertex":s(r,n,e);continue}return t},n._createClass(t)}();function i(t){return t.distance<=1}function c(t=!1){return t?new o:new r}function u(t,n,{x:e,y:r,z:o}){const{start:i,end:c,target:u}=t;t.draped||a(u,n,i,c);const s=(n.x-u.x)/e,f=(n.y-u.y)/r,d=(n.z-u.z)/o;t.distance=Math.sqrt(s*s+f*f+d*d)}function a(t,n,e,r){const o=r.x-e.x,i=r.y-e.y,c=r.z-e.z,u=o*o+i*i+c*c,a=(n.x-e.x)*o+(n.y-e.y)*i+c*(n.z-e.z),s=Math.min(1,Math.max(0,a/u)),f=e.x+o*s,d=e.y+i*s,l=e.z+c*s;t.x=f,t.y=d,t.z=l}function s(t,n,{x:e,y:r,z:o}){const{target:i}=t,c=(n.x-i.x)/e,u=(n.y-i.y)/r,a=(n.z-i.z)/o,s=Math.sqrt(c*c+u*u+a*a);t.distance=s}function f(t){return"number"==typeof t?{x:t,y:t,z:t}:t}function d(t,n){return t.distance-n.distance}t.getSnappingCandidateElevationFilter=c,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
