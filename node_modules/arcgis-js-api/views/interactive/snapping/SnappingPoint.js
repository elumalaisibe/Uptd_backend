/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/vec3f64","../../../layers/graphics/dehydratedFeatures","../../../support/elevationInfoUtils"],(function(n,e,t,o){"use strict";function i(n){return n}function r(n){return e.clone(n)}function a(n,t,o){return e.fromValues(n,t,o)}function l(n,e,t){return null==n?null:u(t.coordinateHelper.vectorToDehydratedPoint(n,d),e,t)}function u(n,t,r){if(null==n)return null;if(null==t)return i(e.fromValues(n.x,n.y,n.z??0));if("2d"===t.type)return i(e.fromValues(n.x,n.y,0));const{elevationInfo:a}=r,l=o.getConvertedElevation(t,n,a,o.absoluteHeightElevationInfo)??0;return i(e.fromValues(n.x,n.y,l))}function p(n,e,{z:i,m:r,spatialReference:a,elevationInfo:l}){if(null==i&&null==r){const e=t.makeDehydratedPoint(n[0],n[1],void 0,a);return null!=r&&(e.m=r,e.hasM=!0),e}if(null==e||"2d"===e.type){const e=t.makeDehydratedPoint(n[0],n[1],i,a);return null!=r&&(e.m=r,e.hasM=!0),e}const u=o.getConvertedElevationFromVector(e,n,a,o.absoluteHeightElevationInfo,l)??0,p=t.makeDehydratedPoint(n[0],n[1],u,a);return null!=r&&(p.m=r,p.hasM=!0),p}function s(n,e){return t.makeDehydratedPoint(n[0],n[1],n[2],e)}const d=t.makeDehydratedPoint(0,0,0,null);n.anyMapPointToSnappingPoint=l,n.asSnappingPoint=i,n.cloneSnappingPoint=r,n.createSnappingPoint=a,n.pointToSnappingPoint=u,n.snappingPointToDehydratedPoint=s,n.snappingPointToSnappingOutput=p,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})}));
