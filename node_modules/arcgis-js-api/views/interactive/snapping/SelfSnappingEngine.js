/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../core/Accessor","../../../core/Collection","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/ensureType","../../../core/arrayUtils","../../../core/has","../../../core/accessorSupport/decorators/subclass","./LineSnapper","./ParallelLineSnapper","./RightAngleSnapper","./RightAngleTriangleSnapper","./SnappingDomain","./snappingUtils"],(function(e,n,i,t,p,o,s,r,a,c,l,g,S,u,h,f){"use strict";e.SelfSnappingEngine=function(e){function i(n){var i;return(i=e.call(this,n)||this).updating=!1,i._snappers=new p,i._domain=h.SnappingDomain.SELF,i}n._inherits(i,e);var t=i.prototype;return t.initialize=function(){this._snappers.push(new g.ParallelLineSnapper(this.view,this.options),new l.LineSnapper(this.view,this.options),new S.RightAngleSnapper(this.view,this.options),new u.RightAngleTriangleSnapper(this.view,this.options))},t.fetchCandidates=async function(e,n,i){if(!(n&this._domain&&this.options.effectiveSelfEnabled))return[];const t=[];for(const p of this._snappers.items)for(const n of p.snap(e,i))t.push(n);return f.sortCandidatesInPlace(e,t),t},n._createClass(i,[{key:"options",set:function(e){this._set("options",e);for(const n of this._snappers)n.options=e}}]),i}(t),i.__decorate([o.property({readOnly:!0})],e.SelfSnappingEngine.prototype,"updating",void 0),i.__decorate([o.property({constructOnly:!0})],e.SelfSnappingEngine.prototype,"view",void 0),i.__decorate([o.property()],e.SelfSnappingEngine.prototype,"options",null),e.SelfSnappingEngine=i.__decorate([c.subclass("esri.views.interactive.snapping.SelfSnappingEngine")],e.SelfSnappingEngine),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
