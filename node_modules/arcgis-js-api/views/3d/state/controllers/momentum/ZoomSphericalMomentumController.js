/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../../../../../chunks/tslib.es6","../../../../../core/screenUtils","../../../../../core/accessorSupport/decorators/property","../../../../../core/accessorSupport/ensureType","../../../../../core/arrayUtils","../../../../../core/has","../../../../../core/accessorSupport/decorators/subclass","../../../../../chunks/vec3f64","../../../../../geometry/support/axisAngle","../../../../../chunks/sphere","../../../camera/constraintUtils","../../../camera/constraintUtils/InteractionType","./MomentumController","../../utils/navigationUtils"],(function(e,t,o,r,n,s,i,c,l,p,a,m,u,h,y,_){"use strict";e.ZoomSphericalMomentumController=function(e){function o(t){var o;return(o=e.call(this,t)||this).interactionType=h.InteractionType.ZOOM,o.radius=0,o._tmpSceneCenter=p.create(),o._tmpZoomAxisAngle=a.create(),o._sphere=m.create(),o}t._inherits(o,e);var n=o.prototype;return n.initialize=function(){this._sphere[3]=this.radius},n.momentumStep=function(e,t){const o=this.momentum.valueDelta(0,e);_.applyZoomOnSphere(this._sphere,t,o),this.constraintOptions.interactionType=h.InteractionType.ZOOM,u.applyAll(this.view,t,this.constraintOptions),_.sphereOrPlanePointFromScreenPoint(this._sphere,t,this.screenCenter,this._tmpSceneCenter),a.fromPoints(this.sceneCenter,this._tmpSceneCenter,this._tmpZoomAxisAngle),_.applyRotation(t,this._sphere,this._tmpZoomAxisAngle),this.constraintOptions.interactionType=h.InteractionType.PAN},t._createClass(o,[{key:"screenCenter",set:function(e){this._set("screenCenter",r.createScreenPointArray(e[0],e[1]))}},{key:"sceneCenter",set:function(e){this._set("sceneCenter",p.clone(e))}}]),o}(y.MomentumController),o.__decorate([n.property({constructOnly:!0})],e.ZoomSphericalMomentumController.prototype,"momentum",void 0),o.__decorate([n.property({constructOnly:!0})],e.ZoomSphericalMomentumController.prototype,"screenCenter",null),o.__decorate([n.property({constructOnly:!0})],e.ZoomSphericalMomentumController.prototype,"sceneCenter",null),o.__decorate([n.property({constructOnly:!0})],e.ZoomSphericalMomentumController.prototype,"radius",void 0),e.ZoomSphericalMomentumController=o.__decorate([l.subclass("esri.views.3d.state.controllers.momentum.ZoomSphericalMomentumController")],e.ZoomSphericalMomentumController),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
