/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/mat4","../../../../chunks/vec2","../../../../chunks/vec2f64","../../../../chunks/vec3","../../../../chunks/vec3f64","../../../../chunks/vec4","../../../../chunks/vec4f64","./Object3DVisualElement","../../webgl-engine/lib/Attribute","../../webgl-engine/lib/Geometry","../../webgl-engine/lib/Material","../../webgl-engine/lib/VertexAttribute","../../webgl-engine/materials/CheckerBoardMaterial"],(function(e,t,r,c,i,n,o,a,l,s,u,h,d,_,f){"use strict";let g=function(e){function s(t){var r;return(r=e.call(this,t)||this)._checkerBoardMaterial=null,r._renderOccluded=d.RenderOccludedFlag.OccludeAndTransparent,r._geometry=null,r._size=i.fromValues(1,1),r._color1=l.fromValues(1,.5,0,.5),r._color2=l.fromValues(1,1,1,.5),r.applyProps(t),r}t._inherits(s,e);var g=s.prototype;return g._updateMaterial=function(){null!=this._checkerBoardMaterial&&this._checkerBoardMaterial.setParameters({size:this._size,color1:this._color1,color2:this._color2,renderOccluded:this._renderOccluded})},g.createExternalResources=function(){this._checkerBoardMaterial=new f.CheckerBoardMaterial({size:this._size,color1:this._color1,color2:this._color2,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:d.RenderOccludedFlag.OccludeAndTransparent})},g.destroyExternalResources=function(){this._checkerBoardMaterial=null},g.forEachExternalMaterial=function(e){null!=this._checkerBoardMaterial&&e(this._checkerBoardMaterial)},g.createGeometries=function(e){if(null==this._geometry||null==this._checkerBoardMaterial)return;const t=y;r.getTranslation(t,this.transform);const c=this._geometry,i=[],a=o.create();c.position.forEach((e=>{n.subtract(a,e,t),i.push(a[0],a[1],a[2])}));const l=[];c.uv.forEach((e=>{l.push(e[0],e[1])}));const s=new h.Geometry(this._checkerBoardMaterial,[[_.VertexAttribute.POSITION,new u.Attribute(i,3,!0)],[_.VertexAttribute.UV0,new u.Attribute(l,2,!0)]],[[_.VertexAttribute.POSITION,c.triangleIndices],[_.VertexAttribute.UV0,c.triangleIndices]]);e.addGeometry(s)},g._geometryChanged=function(){this.recreateGeometry()},t._createClass(s,[{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}},{key:"geometry",get:function(){return this._geometry},set:function(e){this._geometry=e,this._geometryChanged()}},{key:"size",get:function(){return this._size},set:function(e){c.copy(this._size,e),this._updateMaterial()}},{key:"color1",get:function(){return this._color1},set:function(e){a.exactEquals(e,this._color1)||(a.copy(this._color1,e),this._updateMaterial())}},{key:"color2",get:function(){return this._color2},set:function(e){a.exactEquals(e,this._color2)||(a.copy(this._color2,e),this._updateMaterial())}}]),s}(s.Object3DVisualElement);const y=o.create();e.MeasurementAreaVisualElement=g,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
