/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../../../../../chunks/vec3","../../../../../chunks/vec3f64","../../../../../geometry/projection","../../../../../geometry/spatialReferenceEllipsoidUtils","../../../../../geometry/support/vectorStacks","../../../support/mathUtils"],(function(e,t,r,n,s,c,i,o){"use strict";let a=function(){function e(e=n.create(),t=n.create()){this.startRenderSpace=e,this.endRenderSpace=t,this.type="euclidean"}var s=e.prototype;return s.eval=function(e,t,n){return r.lerp(t,this.startRenderSpace,this.endRenderSpace,e),n&&(r.subtract(n,this.endRenderSpace,this.startRenderSpace),r.normalize(n,n)),t},s.createRenderGeometry=function(e,t){const n=[],s=[],c=(t,c)=>{const i=l;r.subtract(i,t,e),n.push([i[0],i[1],i[2]]),s.push([c[0],c[1],c[2]])},o=t.worldUpAtPosition(this.eval(.5,h),i.sv3d.get());return c(this.startRenderSpace,o),c(this.endRenderSpace,o),{points:n,normals:s}},e.fromPositionAndVector=function(t,s,c=1){return r.scale(h,s,c),r.add(h,t,h),new e(n.clone(t),n.clone(h))},t._createClass(e)}(),p=function(){var e=i.prototype;function i(e,t,r){this.startRenderSpace=e,this.endRenderSpace=t,this.renderSpatialReference=r,this.type="geodesic",this._start=n.create(),this._end=n.create(),this._pcpf=c.getSphericalPCPF(r),this._project=s.canProjectWithoutEngine(r,this._pcpf),this._projectIn(e,this._start),this._projectIn(t,this._end)}return e._projectIn=function(e,t){this._project?s.projectVectorToVector(e,this.renderSpatialReference,t,this._pcpf):r.copy(t,e)},e.eval=function(e,t,n){if(this._project)if(n){const c=l;o.slerpTangent(this._start,this._end,e,t,c),r.add(d,t,c),s.projectVectorToVector(t,this._pcpf,t,this.renderSpatialReference),s.projectVectorToVector(d,this._pcpf,d,this.renderSpatialReference),r.subtract(n,d,t),r.normalize(n,n)}else o.slerp(this._start,this._end,e,t),s.projectVectorToVector(t,this._pcpf,t,this.renderSpatialReference);else r.lerp(t,this._start,this._end,e),n&&(r.subtract(n,this._end,this._start),r.normalize(n,n));return t},e.createRenderGeometry=function(e,t){const n=[],s=[],c=(t,c)=>{const i=d;r.subtract(i,t,e),n.push([i[0],i[1],i[2]]),s.push([c[0],c[1],c[2]])},i=128+1&-2;for(let r=0;r<i;++r){const e=r/(i-1),n=h,s=l;this.eval(e,n),t.worldUpAtPosition(n,s),c(n,s)}return{points:n,normals:s}},t._createClass(i)}();const h=n.create(),l=n.create(),d=n.create();e.EuclideanSegment=a,e.GeodesicSegment=p,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
