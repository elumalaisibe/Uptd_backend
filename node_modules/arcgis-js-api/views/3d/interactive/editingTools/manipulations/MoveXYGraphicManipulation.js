/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../dragEventPipeline3D","../ManipulatorType","./Manipulation","./moveUtils","../../../../interactive/dragEventPipeline","../../../../interactive/GraphicManipulator"],(function(t,e,i,a,r,n,o,l){"use strict";let p=function(t){function r(e){var i;return(i=t.call(this)||this)._view=e.view,i._tool=e.tool,i._graphicState=e.graphicState,i._createManipulator(),i.forEachManipulator((t=>i._tool.manipulators.add(t))),i}e._inherits(r,t);var p=r.prototype;return p.destroy=function(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null},p.forEachManipulator=function(t){t(this._manipulator,a.ManipulatorType.TRANSLATE_XY)},p.createGraphicDragPipeline=function(t){return n.createGraphicMoveDragPipeline(this._graphicState,t,(t=>this.createDragPipeline(t)),this._view.state.viewingMode)},p.createDragPipeline=function(t){const e=this._view,a=this._graphicState.graphic,r=null!=a.geometry?a.geometry.spatialReference:null;return o.createManipulatorDragEventPipeline(this._manipulator,((n,l,p,c,u)=>{const s=l.next(i.screenToMapXYForGraphic(u,e,a,r)).next(o.addMapDelta()).next(o.addScreenDelta());t(n,s,p,c,u)}))},p._createManipulator=function(){const t=this._view,e=this._graphicState.graphic;this._manipulator=new l.GraphicManipulator({graphic:e,view:t,selectable:!0,cursor:"move"})},e._createClass(r)}(r.Manipulation);t.MoveXYGraphicManipulation=p,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
