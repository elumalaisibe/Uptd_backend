/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../interactive/dragEventPipeline"],(function(e,t){"use strict";function n(e,n,a,r){const i=e.graphic,c=(e,t)=>n({action:e,graphic:i,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY});return a(((e,n,a)=>(n.next((e=>("start"===e.action&&c("start",e),e))).next(t.dragGraphic(i,r)).next((e=>{switch(e.action){case"start":case"update":(e.translationX||e.translationY||e.translationZ)&&c("update",e);break;case"end":c("end",e)}return e})),{steps:n,cancel:a=a.next(t.resetGraphic(i)).next((e=>(c("end",{screenDeltaX:0,screenDeltaY:0}),e)))})))}function a(e){if(null==e||"polyline"!==e.type&&"polygon"!==e.type)return 0;const t=("polyline"===e.type?e.paths:e.rings)[0];if(!t||t.length<2)return 0;const n=t[0],a=t[1];return Math.atan2(a[1]-n[1],a[0]-n[0])}function r(e){if(null==e||null==e.axis)return 1;const{mapStart:t,mapEnd:n,axis:a}=e,r=[n.x-t.x,n.y-t.y];return r[0]*a[0]+r[1]*a[1]>0?1:-1}e.axisConstrainedDragSign=r,e.createGraphicMoveDragPipeline=n,e.shapeOrientation=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
