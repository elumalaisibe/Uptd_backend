/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../Color","../../../../core/analysisThemeUtils","../../../../core/memoize","../visualElements/ExtendedLineVisualElement","../../webgl-engine/lib/Material","../../webgl-engine/materials/lineStippleUtils","../../../support/colorUtils"],(function(e,t,i,l,o,n,s,r,c){"use strict";const h=o.memoize((e=>({accent:l.getAccentColor(),contrast:l.getContrastColor(),selected:new i([255,255,255]),selectedOutline:new i([255,255,255]),staged:new i([12,207,255]),outline:new i([0,0,0,.5])}))),a=.3;function d(e,t){t&&Object.assign(e,t)}let u=t._createClass((function({theme:e,...t}){this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=s.RenderOccludedFlag.Opaque,this.color=h(e).accent,d(this,t)})),p=function(){function e({theme:e,...t}){this.size=11,this.outlineSize=1,this.collisionPadding=9;const i=h(e);this.color=i.accent,this.outlineColor=i.outline,this.renderOccluded=s.RenderOccludedFlag.Opaque,this.hoverOutlineColor=i.selectedOutline,d(this,t)}return e.prototype.apply=function(e,t){const i=this[e];t.setParameters({color:c.unitRGBAFromColor(i),transparent:"color"!==e||i.a<1,renderOccluded:this.renderOccluded})},t._createClass(e)}(),f=function(){function e({theme:e,...t}){this.size=40,this.height=.2,this.offset=.25,this.collisionPadding=2,this.renderOccluded=s.RenderOccludedFlag.Transparent,this.minSquaredEdgeLength=900;const i=h(e);this.color=c.multiplyOpacity(i.accent,.5),this.hoverColor=i.accent,d(this,t)}return e.prototype.apply=function(e,t){const i=this[e];t.setParameters({color:c.unitRGBAFromColor(i),transparent:i.a<1,renderOccluded:this.renderOccluded})},t._createClass(e)}(),g=t._createClass((function({theme:e}){const t=h(e);this.vertex=new p({theme:e,color:t.accent,outlineColor:t.outline}),this.edge=new p({theme:e,color:c.desaturate(c.multiplyOpacity(t.accent,2/3),.5),outlineColor:c.multiplyOpacity(t.outline,.5),size:8,collisionPadding:8}),this.selected=new p({theme:e,color:t.selected,outlineColor:t.outline}),this.edgeOffset=new f({theme:e})})),C=function(){function e({theme:e,...t}){this.width=1.5,this.stipplePattern=r.createStipplePatternSimple(5),this.falloff=0,this.innerWidth=1.5,this.renderOccluded=s.RenderOccludedFlag.OccludeAndTransparent;const i=h(e);this.color=i.selected,this.stippleOffColor=i.outline,this.innerColor=i.selected,d(this,t)}return e.prototype.apply=function(e){e.color=c.unitRGBAFromColor(this.color),e.width=this.width,e.stipplePattern=this.stipplePattern,e.stippleOffColor=c.unitRGBAFromColor(this.stippleOffColor),e.falloff=this.falloff,e.innerWidth=this.innerWidth,e.innerColor=c.unitRGBAFromColor(this.innerColor),e.renderOccluded=this.renderOccluded},t._createClass(e)}(),m=function(){function e({theme:e,...t}){this.size=4,this.outlineSize=1,this.shape="square";const i=h(e);this.color=i.selected,this.outlineColor=i.outline,d(this,t)}return e.prototype.apply=function(e){e.color=c.unitRGBAFromColor(this.color),e.size=this.size,e.outlineSize=this.outlineSize,e.outlineColor=c.unitRGBAFromColor(this.outlineColor),e.primitive=this.shape},t._createClass(e)}(),w=function(){function e({theme:e,...t}){this.innerWidth=1,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=a,this.globalAlphaContrastBoost=1.5,this.radius=3;const i=h(e);this.innerColor=i.selected,this.glowColor=i.accent,this.heightFillColor=i.accent,d(this,t)}return e.prototype.apply=function(e,t=1){const l={glowColor:i.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:i.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*t,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};"style"in e?e.style=l:e.laserlineStyle=l},t._createClass(e)}(),O=t._createClass((function({theme:e,...t}){const i=h(e);this.outline=new C({theme:e,color:i.outline,renderOccluded:s.RenderOccludedFlag.OccludeAndTransparentStencil,stippleOffColor:i.selected,stipplePattern:r.createStipplePatternSimple(5),width:1.5,innerWidth:0}),this.staged=new C({theme:e,color:i.selected,renderOccluded:s.RenderOccludedFlag.OccludeAndTransparentStencil,innerColor:i.staged,stippleOffColor:i.outline,stipplePattern:r.createStipplePatternSimple(5),width:1.5}),this.shadowStyle=new w({theme:e,globalAlpha:a,glowColor:i.accent,glowFalloff:8,glowWidth:8,innerColor:i.selected,innerWidth:1}),d(this,t)})),y=t._createClass((function({theme:e,...t}){const i=h(e);this.outline=new m({theme:e,color:i.selected,outlineColor:i.outline,outlineSize:1,shape:"circle",size:4}),this.shadowStyle=new w({theme:e,globalAlpha:a,glowColor:i.accent,glowFalloff:1.5,glowWidth:6,innerColor:i.selected,innerWidth:1,radius:2}),d(this,t)})),A=function(e){function i({theme:i,...l}){var o;return(o=e.call(this,{theme:i})||this).extensionType=n.ExtensionType.GROUND_RAY,d(t._assertThisInitialized(o),l),o}return t._inherits(i,e),t._createClass(i)}(C),F=t._createClass((function({theme:e}){this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20;const t=h(e);this.lineGraphics=new O({theme:e}),this.pointGraphics=new y({theme:e}),this.heightPlane=new w({theme:e,globalAlpha:a,glowColor:t.accent,glowFalloff:8,glowWidth:8,innerColor:t.selected,innerWidth:1}),this.heightBox=new w({theme:e,globalAlpha:a,glowColor:t.accent,glowFalloff:8,glowWidth:8,innerColor:t.selected,innerWidth:0,heightFillColor:t.accent}),this.zVerticalLine=new A({theme:e,color:c.multiplyOpacity(t.accent,5*a/3),falloff:2,innerColor:c.multiplyOpacity(t.selected,0),renderOccluded:s.RenderOccludedFlag.OccludeAndTransparent,stipplePattern:null,width:5,extensionType:n.ExtensionType.GROUND_RAY})})),R=t._createClass((function(e){this.colors=h(e.theme),this.visualElements=new F(e),this.manipulators=new g(e),this.zManipulator=new u(e)}));const S=o.memoize((e=>new R({theme:e})));e.getSettings=S,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
