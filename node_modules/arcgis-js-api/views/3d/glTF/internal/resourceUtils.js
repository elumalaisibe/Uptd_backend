/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../webgl-engine/lib/basicInterfaces"],(function(e,n,t){"use strict";let r=n._createClass((function(e){this.data=e,this.type="encoded-mesh-texture",this.encoding=t.TextureEncodingMimeType.KTX2_ENCODING}));function o(e){return"encoded-mesh-texture"===e?.type}async function i(e){return new Promise(((n,t)=>{const r=new Blob([e]),o=new FileReader;o.onload=()=>{const e=o.result;n(JSON.parse(e))},o.onerror=e=>{t(e)},o.readAsText(r)}))}async function s(e,n){return n===t.TextureEncodingMimeType.KTX2_ENCODING?new r(e):new Promise(((t,r)=>{const o=new Blob([e],{type:n}),i=URL.createObjectURL(o),s=new Image,c=()=>{URL.revokeObjectURL(i),"decode"in s?s.decode().then((()=>t(s)),(()=>t(s))).then(d):(t(s),d())},a=e=>{URL.revokeObjectURL(i),r(e),d()},d=()=>{s.removeEventListener("load",c),s.removeEventListener("error",a)};s.addEventListener("load",c),s.addEventListener("error",a),s.src=i}))}e.EncodedMeshTexture=r,e.imageFromBinaryData=s,e.isEncodedMeshTexture=o,e.jsonFromBinaryData=i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
