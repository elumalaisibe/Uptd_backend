/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/vec3","../../../../chunks/vec3f64","../../../../geometry/projection","../../../../geometry/support/aaBoundingBox","../../../../geometry/support/DoubleArray"],(function(e,t,r,n,o,a){"use strict";function u(e,t,r){const u=a.newDoubleArray(24);return a=>{let f=a.meta.featureExtents;if(null==f){f=new Float64Array(6*a.meta.featureIds.length),a.meta.featureExtents=f;for(let e=0;e<f.length;e+=6)f[e]=Number.POSITIVE_INFINITY}const s=new Float64Array(f.buffer,6*a.index*Float64Array.BYTES_PER_ELEMENT,6);return s[0]===Number.POSITIVE_INFINITY&&(c(a.index,r,a.meta.objectHandle,u,0),n.projectBuffer(u,t,0,u,e,0,8)?(o.set(s,o.NEGATIVE_INFINITY),o.expandWithBuffer(s,u,0,8)):o.set(s,o.ZERO)),s}}function c(e,r,n,o,a){const u=r.getComponentAabb(n,e,s),c=r.getObjectTransform(n);for(let f=0;f<8;++f)i[0]=1&f?u[0]:u[3],i[1]=2&f?u[1]:u[4],i[2]=4&f?u[2]:u[5],t.transformMat3(i,i,c.rotationScale),t.add(i,i,c.position),o[a++]=i[0],o[a++]=i[1],o[a++]=i[2];return o}const f=24,s=o.create(),i=r.create();e.BOUNDING_BOX_CORNERS_POINTS_STRIDE=f,e.boundingBoxCornerPoints=c,e.createGetFeatureExtent=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
