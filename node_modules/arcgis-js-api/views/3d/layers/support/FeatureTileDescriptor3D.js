/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../geometry/support/aaBoundingRect"],(function(i,e,t){"use strict";let s=function(){function s(e,s,n,l=null){this.lij=[0,0,0],this.extent=t.create(),this.resolution=0,this.loadPriority=0,this.measures={visibility:i.Visibility.VISIBLE_ON_SURFACE,screenRect:t.create(),distance:0,shouldSplit:!1},this.used=!1,l&&this.acquire(e,s,n,l)}var n=s.prototype;return n.acquire=function(i,e,t,n){this.tilingScheme=n,this.id=s.id(i,e,t),this.lij[0]=i,this.lij[1]=e,this.lij[2]=t,n.getExtent(i,e,t,this.extent),this.resolution=n.resolutionAtLevel(i)},n.release=function(){this.tilingScheme=null},n.getChildren=function(i){const e=this.lij[0]+1,t=2*this.lij[1],n=2*this.lij[2];return i?(i[0].acquire(e,t,n,this.tilingScheme),i[1].acquire(e,t+1,n,this.tilingScheme),i[2].acquire(e,t,n+1,this.tilingScheme),i[3].acquire(e,t+1,n+1,this.tilingScheme),i):[new s(e,t,n,this.tilingScheme),new s(e,t+1,n,this.tilingScheme),new s(e,t,n+1,this.tilingScheme),new s(e,t+1,n+1,this.tilingScheme)]},n.copyMeasurementsFrom=function(i){this.measures.visibility=i.measures.visibility,this.measures.shouldSplit=i.measures.shouldSplit,this.measures.distance=i.measures.distance,t.copy(i.measures.screenRect,this.measures.screenRect)},s.id=function(i,e,t){return`${i}/${e}/${t}`},e._createClass(s)}();var n;i.Visibility=void 0,(n=i.Visibility||(i.Visibility={}))[n.INVISIBLE=0]="INVISIBLE",n[n.VISIBLE_WHEN_EXTENDED=1]="VISIBLE_WHEN_EXTENDED",n[n.VISIBLE_ON_SURFACE=2]="VISIBLE_ON_SURFACE",i.FeatureTileDescriptor3D=s,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})}));
