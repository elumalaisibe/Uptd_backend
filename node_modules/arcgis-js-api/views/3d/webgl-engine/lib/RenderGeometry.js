/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../core/uid","../../../../chunks/mat4","../../../../chunks/mat4f64","../../../../chunks/vec3","../../../../chunks/sphere","../../support/mathUtils"],(function(t,e,r,n,i,s,o,a){"use strict";let h=function(){function t(t,e={}){this.geometry=t,this.screenToWorldRatio=1,this._transformation=i.create(),this._shaderTransformation=null,this._boundingSphere=null,this.id=r.generateUID(),this.layerUid=e.layerUid,this.graphicUid=e.graphicUid,this.shaderTransformer=e.shaderTransformer,this.castShadow=e.castShadow??!1}var h=t.prototype;return h.updateTransformation=function(t){t(this._transformation),this._shaderTransformation=this._boundingSphere=null},h.shaderTransformationChanged=function(){this._shaderTransformation=null},e._createClass(t,[{key:"transformation",get:function(){return this._transformation}},{key:"boundingInfo",get:function(){return this.geometry.boundingInfo}},{key:"boundingSphere",get:function(){return this._boundingSphere?this._boundingSphere:this.boundingInfo?(this._boundingSphere=s.transformMat4(o.create(),this.boundingInfo.center,this.shaderTransformation),this._boundingSphere[3]=this.boundingInfo.radius*a.maxScale(this.shaderTransformation),this._boundingSphere):o.NullSphere}},{key:"hasShaderTransformation",get:function(){return null!=this.shaderTransformer}},{key:"material",get:function(){return this.geometry.material}},{key:"type",get:function(){return this.geometry.type}},{key:"shaderTransformation",get:function(){return null==this.shaderTransformer?this.transformation:(this._shaderTransformation||(this._shaderTransformation=n.copy(i.create(),this.shaderTransformer(this.transformation))),this._shaderTransformation)}},{key:"indices",get:function(){return this.geometry.indices}},{key:"vertexAttributes",get:function(){return this.geometry.vertexAttributes}},{key:"highlights",get:function(){return this.geometry.highlights}},{key:"occludees",get:function(){return this.geometry.occludees}},{key:"visible",get:function(){return this.geometry.visible},set:function(t){this.geometry.visible=t}}]),t}(),u=function(t){function r(){return t.apply(this,arguments)||this}return e._inherits(r,t),e._createClass(r)}(h);t.RenderGeometry=h,t.ValidatedRenderGeometry=u,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
