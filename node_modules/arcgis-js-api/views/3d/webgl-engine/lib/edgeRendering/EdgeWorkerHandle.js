/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../../../../../core/typedArrayUtil","../../../../../core/workers/WorkerHandle","../../../support/buffer/workerHelper","./edgeProcessing"],(function(e,t,n,r,a,i){"use strict";let s=function(e){function n(t){return e.call(this,"EdgeProcessingWorker","extract",{extract:e=>[e.dataBuffer],extractComponentsEdgeLocations:e=>[e.dataBuffer],extractEdgeLocations:e=>[e.dataBuffer]},t)||this}t._inherits(n,e);var r=n.prototype;return r.process=async function(e,t,n){if(n)return i.extract(e);const r=await this.invoke(new o(e),t);return this._unpackOutput(r)},r.extractEdgeLocations=async function(e,t){const n=await this.invokeMethod("extractEdgeLocations",new o(e),t);return a.unpackInterleavedBuffer(n)},r.extractComponentsEdgeLocations=async function(e,t){const n=await this.invokeMethod("extractComponentsEdgeLocations",new o(e),t);return a.unpackInterleavedBuffer(n)},r._unpackOutput=function(e){return{regular:{instancesData:a.unpackInterleavedBuffer(e.regular.instancesData),lodInfo:{lengths:new Float32Array(e.regular.lodInfo.lengths)}},silhouette:{instancesData:a.unpackInterleavedBuffer(e.silhouette.instancesData),lodInfo:{lengths:new Float32Array(e.silhouette.lodInfo.lengths)}},averageEdgeLength:e.averageEdgeLength}},t._createClass(n)}(r.WorkerHandle),o=t._createClass((function(e){this.dataBuffer=e.data.buffer,this.writerSettings=e.writerSettings,this.skipDeduplicate=e.skipDeduplicate,this.indices=n.isArray(e.indices)?e.indices:e.indices.buffer,this.indicesType=n.isArray(e.indices)?"Array":n.isUint32Array(e.indices)?"Uint32Array":"Uint16Array",this.indicesLength=e.indicesLength}));e.EdgeWorkerHandle=s,e.PackedInput=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
