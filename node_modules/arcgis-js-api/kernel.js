/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["require","exports","./core/has","./core/urlUtils","./support/revision"],(function(e,t,r,a,n){"use strict";const s=e=>Object.freeze(Object.defineProperty({__proto__:null,default:e},Symbol.toStringTag,{value:"Module"})),o="4.27";t.fullVersion=o;{const e="4.27.6";t.fullVersion=e}const i={async request(t,r){const{default:n}=await new Promise(((t,r)=>e(["./request"],(e=>t(s(e))),r))),o=t.options,i=o.responseType;o.signal=r?.signal,o.responseType="native"===i||"native-request-init"===i?"native-request-init":i&&["blob","json","text"].includes(i)&&a.getInterceptor(t.url)?.after?i:"array-buffer";const u=await n(t.url,o),d={data:u.data,httpStatus:u.httpStatus,ssl:u.ssl};switch(u.requestOptions?.responseType){case"native-request-init":return delete d.data.signal,d;case"blob":d.data=await d.data.arrayBuffer();break;case"json":d.data=(new TextEncoder).encode(JSON.stringify(d.data)).buffer;break;case"text":d.data=(new TextEncoder).encode(d.data).buffer}return{result:d,transferList:[d.data]}}};function u(e){t.id=e}function d(e){const r=t.id?.findCredential(e);return r?.token?a.addQueryParameter(e,"token",r.token):e}t.id=void 0,r("host-webworker"),t.buildDate=n.buildDate,t.revision=n.commitHash,t.addTokenParameter=d,t.setId=u,t.version=o,t.workerMessages=i,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
