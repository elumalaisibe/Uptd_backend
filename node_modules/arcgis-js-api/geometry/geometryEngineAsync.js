/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../chunks/_rollupPluginBabelHelpers","../geometry","../core/workers/workers","./Point","./support/jsonUtils"],(function(n,e,t,r,i,a){"use strict";function c(n){return Array.isArray(n)?n[0]?.spatialReference:n?.spatialReference}function o(n){return n?Array.isArray(n)?n.map(o):n.toJSON?n.toJSON():n:n}function u(n){return Array.isArray(n)?n.map((n=>a.fromJSON(n))):a.fromJSON(n)}function s(n,e){let t;return Array.isArray(n)?t=n:(t=[],t.push(n),null!=e&&t.push(e)),t}let f;async function l(){return f||(f=r.open("geometryEngineWorker",{strategy:"distributed"})),f}async function p(n,e){return(await l()).invoke("executeGEOperation",{operation:n,parameters:o(e)})}async function y(n,e){const t=await l();return Promise.all(t.broadcast("executeGEOperation",{operation:n,parameters:o(e)}))}function w(n){return p("extendedSpatialReferenceInfo",[n])}async function d(n,e){return u(await p("clip",[c(n),n,e]))}async function m(n,e){return u(await p("cut",[c(n),n,e]))}function g(n,e){return p("contains",[c(n),n,e])}function h(n,e){return p("crosses",[c(n),n,e])}function S(n,e,t){return p("distance",[c(n),n,e,t])}function R(n,e){return p("equals",[c(n),n,e])}function x(n,e){return p("intersects",[c(n),n,e])}function A(n,e){return p("touches",[c(n),n,e])}function O(n,e){return p("within",[c(n),n,e])}function N(n,e){return p("disjoint",[c(n),n,e])}function J(n,e){return p("overlaps",[c(n),n,e])}function D(n,e,t){return p("relate",[c(n),n,e,t])}function b(n){return p("isSimple",[c(n),n])}async function v(n){return u(await p("simplify",[c(n),n]))}async function T(n,e=!1){return u(await p("convexHull",[c(n),n,e]))}async function L(n,e){return u(await p("difference",[c(n),n,e]))}async function P(n,e){return u(await p("symmetricDifference",[c(n),n,e]))}async function V(n,e){return u(await p("intersect",[c(n),n,e]))}async function k(n,e=null){const t=s(n,e);return u(await p("union",[c(t),t]))}async function E(n,e,t,r,i,a){return u(await p("offset",[c(n),n,e,t,r,i,a]))}async function H(n,e,t,r=!1){const i=[c(n),n,e,t,r];return u(await p("buffer",i))}async function j(n,e,t,r,i,a){const o=[c(n),n,e,t,r,i,a];return u(await p("geodesicBuffer",o))}async function z(n,e,t=!0){const r=await p("nearestCoordinate",[c(n),n,e,t]);return{...r,coordinate:i.fromJSON(r.coordinate)}}async function _(n,e){const t=await p("nearestVertex",[c(n),n,e]);return{...t,coordinate:i.fromJSON(t.coordinate)}}async function B(n,e,t,r){return(await p("nearestVertices",[c(n),n,e,t,r])).map((n=>({...n,coordinate:i.fromJSON(n.coordinate)})))}function C(n){return"xmin"in n?n.center:"x"in n?n:n.extent?.center}async function I(n,e,t){if(null==n)throw new nn;const r=n.spatialReference;if(null==(t=t??C(n)))throw new nn;const i=n.constructor.fromJSON(await p("rotate",[r,n,e,t]));return i.spatialReference=r,i}async function q(n,e){if(null==n)throw new nn;const t=n.spatialReference;if(null==(e=e??C(n)))throw new nn;const r=n.constructor.fromJSON(await p("flipHorizontal",[t,n,e]));return r.spatialReference=t,r}async function G(n,e){if(null==n)throw new nn;const t=n.spatialReference;if(null==(e=e??C(n)))throw new nn;const r=n.constructor.fromJSON(await p("flipVertical",[t,n,e]));return r.spatialReference=t,r}async function M(n,e,t,r){return u(await p("generalize",[c(n),n,e,t,r]))}async function U(n,e,t){return u(await p("densify",[c(n),n,e,t]))}async function W(n,e,t,r=0){return u(await p("geodesicDensify",[c(n),n,e,t,r]))}function F(n,e){return p("planarArea",[c(n),n,e])}function K(n,e){return p("planarLength",[c(n),n,e])}function Q(n,e,t){return p("geodesicArea",[c(n),n,e,t])}function X(n,e,t){return p("geodesicLength",[c(n),n,e,t])}async function Y(n,e){return u(await p("intersectLinesToPoints",[c(n),n,e]))}async function Z(n,e){await y("changeDefaultSpatialReferenceTolerance",[n,e])}async function $(n){await y("clearDefaultSpatialReferenceTolerance",[n])}let nn=function(n){function t(){return n.call(this,"Illegal Argument Exception")||this}return e._inherits(t,n),e._createClass(t)}(e._wrapNativeSuper(Error));n.buffer=H,n.changeDefaultSpatialReferenceTolerance=Z,n.clearDefaultSpatialReferenceTolerance=$,n.clip=d,n.contains=g,n.convexHull=T,n.crosses=h,n.cut=m,n.densify=U,n.difference=L,n.disjoint=N,n.distance=S,n.equals=R,n.extendedSpatialReferenceInfo=w,n.flipHorizontal=q,n.flipVertical=G,n.generalize=M,n.geodesicArea=Q,n.geodesicBuffer=j,n.geodesicDensify=W,n.geodesicLength=X,n.intersect=V,n.intersectLinesToPoints=Y,n.intersects=x,n.isSimple=b,n.nearestCoordinate=z,n.nearestVertex=_,n.nearestVertices=B,n.offset=E,n.overlaps=J,n.planarArea=F,n.planarLength=K,n.relate=D,n.rotate=I,n.simplify=v,n.symmetricDifference=P,n.touches=A,n.union=k,n.within=O,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})}));
