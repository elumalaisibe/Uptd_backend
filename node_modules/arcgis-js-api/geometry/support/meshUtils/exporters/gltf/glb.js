/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../../../chunks/_rollupPluginBabelHelpers"],(function(t,e){"use strict";var i;!function(t){t[t.JSON=1313821514]="JSON",t[t.BIN=5130562]="BIN"}(i||(i={}));let n=function(){function t(e,n){if(!e)throw new Error("GLB requires a JSON gltf chunk");this._length=t.HEADER_SIZE,this._length+=t.CHUNK_HEADER_SIZE;const r=this._textToArrayBuffer(e);if(this._length+=this._alignTo(r.byteLength,4),n&&(this._length+=t.CHUNK_HEADER_SIZE,this._length+=n.byteLength,n.byteLength%4))throw new Error("Expected BIN chunk length to be divisible by 4 at this point");this.buffer=new ArrayBuffer(this._length),this._outView=new DataView(this.buffer),this._writeHeader();const h=this._writeChunk(r,12,i.JSON,32);n&&this._writeChunk(n,h,i.BIN)}var n=t.prototype;return n._writeHeader=function(){this._outView.setUint32(0,t.MAGIC,!0),this._outView.setUint32(4,t.VERSION,!0),this._outView.setUint32(8,this._length,!0)},n._writeChunk=function(t,e,i,n=0){const r=this._alignTo(t.byteLength,4);for(this._outView.setUint32(e,r,!0),this._outView.setUint32(e+=4,i,!0),this._writeArrayBuffer(this._outView.buffer,t,e+=4,0,t.byteLength),e+=t.byteLength;e%4;)n&&this._outView.setUint8(e,n),e++;return e},n._writeArrayBuffer=function(t,e,i,n,r){new Uint8Array(t,i,r).set(new Uint8Array(e,n,r),0)},n._textToArrayBuffer=function(t){return(new TextEncoder).encode(t).buffer},n._alignTo=function(t,e){return e*Math.ceil(t/e)},e._createClass(t)}();n.HEADER_SIZE=12,n.CHUNK_HEADER_SIZE=8,n.MAGIC=1179937895,n.VERSION=2,t.GLB=n,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
