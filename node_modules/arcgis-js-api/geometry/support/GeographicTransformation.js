/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","./GeographicTransformationStep"],(function(t,n){"use strict";return function(){function i(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t&&t.steps)for(const i of t.steps)i instanceof n?this.steps.push(i):this.steps.push(new n({wkid:i.wkid,wkt:i.wkt,isInverse:i.isInverse}))}i.cacheKey=function(t,n){return[void 0!==t.wkid&&null!==t.wkid?t.wkid.toString():"-1",void 0!==t.wkt&&null!==t.wkt?t.wkt.toString():"",void 0!==n.wkid&&null!==n.wkid?n.wkid.toString():"-1",void 0!==n.wkt&&null!==n.wkt?n.wkt.toString():""].join(",")},i.fromGE=function(t){const s=new i;let e="";for(const i of t.steps){const t=n.fromGE(i);s.steps.push(t),e+=t.uid.toString()+","}return s._cachedProjection={},s._gtlistentry=null,s._chain=e,s};var s=i.prototype;return s.getInverse=function(){const t=new i;t.steps=[];for(let n=this.steps.length-1;n>=0;n--){const i=this.steps[n];t.steps.push(i.getInverse())}return t},s.getGTListEntry=function(){let t="";for(const n of this.steps)t+=n.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry},s.assignCachedGe=function(t,n,s){this._cachedProjection[i.cacheKey(t,n)]=s},s.getCachedGeTransformation=function(t,n){let s="";for(const i of this.steps)s+=i.uid.toString()+",";s!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=s);const e=this._cachedProjection[i.cacheKey(t,n)];return void 0===e?null:e},t._createClass(i)}()}));
