/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../core/typedArrayUtil"],(function(r,n){"use strict";function t(r){return n.isArray(r)?r.length<n.NATIVE_ARRAY_MAX_SIZE?r:e(r):r.length<n.NATIVE_ARRAY_MAX_SIZE?Array.from(r):r.BYTES_PER_ELEMENT===Uint16Array.BYTES_PER_ELEMENT?r:e(r)}function e(r){let t=!0;for(const e of r){if(e>=65536)return n.isArray(r)?new Uint32Array(r):r;e>=256&&(t=!1)}return t?new Uint8Array(r):new Uint16Array(r)}function A(r){return r<=n.NATIVE_ARRAY_MAX_SIZE?new Array(r):r<=65536?new Uint16Array(r):new Uint32Array(r)}function i(r){return r<=n.NATIVE_ARRAY_MAX_SIZE?new Array(r):new Uint32Array(r)}let a=(()=>{const r=new Uint32Array(131072);for(let n=0;n<r.length;++n)r[n]=n;return r})();const f=[0],y=(()=>{const r=new Uint16Array(65536);for(let n=0;n<r.length;++n)r[n]=n;return r})();function o(r){if(1===r)return f;if(r<n.NATIVE_ARRAY_MAX_SIZE)return Array.from(new Uint16Array(y.buffer,0,r));if(r<y.length)return new Uint16Array(y.buffer,0,r);if(r>a.length){const n=Math.max(2*a.length,r);a=new Uint32Array(n);for(let r=0;r<a.length;r++)a[r]=r}return new Uint32Array(a.buffer,0,r)}let u=new Uint8Array(65536);function l(r){if(1===r)return f;if(r<n.NATIVE_ARRAY_MAX_SIZE)return new Array(r).fill(0);if(r>u.length){const n=Math.max(2*u.length,r);u=new Uint8Array(n)}return new Uint8Array(u.buffer,0,r)}r.compactIndices=t,r.getContinuousIndexArray=o,r.getZeroIndexArray=l,r.newIndexArray=A,r.newIntArray=i,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})}));
