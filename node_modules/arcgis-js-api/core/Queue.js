/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["../chunks/_rollupPluginBabelHelpers","./maybe","./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],(function(t,e,s,i){"use strict";return function(n){function r(t=(t=>t.values().next().value)){this._peeker=t,this._observable=new i.SimpleObservable,this._items=new Set}var o=r.prototype;return o.clear=function(){0!==this.length&&(this._items.clear(),this._observable.notify())},o.last=function(){if(0===this.length)return;let t;for(t of this._items);return t},o.peek=function(){if(0!==this.length)return this._peeker(this._items)},o.push=function(t){this.contains(t)||(this._items.add(t),this._observable.notify())},o.contains=function(t){return s.trackAccess(this._observable),this._items.has(t)},o.pop=function(){if(0===this.length)return;const t=this.peek();return this._items.delete(e.assumeNonNull(t)),this._observable.notify(),t},o.popLast=function(){if(0===this.length)return;const t=this.last();return this._items.delete(e.assumeNonNull(t)),this._observable.notify(),t},o.remove=function(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())},o.filter=function(t){const e=this.length;return this._items.forEach((e=>{t(e)||this._items.delete(e)})),e!==this._items.size&&this._observable.notify(),this},o[n]=function*(){s.trackAccess(this._observable),yield*this._items},t._createClass(r,[{key:"length",get:function(){return s.trackAccess(this._observable),this._items.size}}]),r}(Symbol.iterator)}));
