/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["../chunks/_rollupPluginBabelHelpers"],(function(t){"use strict";function i(t){return t&&t.release&&"function"==typeof t.release}function e(t){return t&&t.acquire&&"function"==typeof t.acquire}let o=function(){function o(t,i,e,o=1,n=0){if(this._ctor=t,this._acquireFunction=i,this._releaseFunction=e,this.allocationSize=o,this._pool=new Array(n),this._initialSize=n,this._ctor)for(let s=0;s<n;s++)this._pool[s]=new this._ctor;this.allocationSize=Math.max(o,1)}var n=o.prototype;return n.destroy=function(){this.prune(0)},n.acquire=function(...t){let i;if(o.test.disabled)i=new this._ctor;else{if(0===this._pool.length){const t=this.allocationSize;for(let i=0;i<t;i++)this._pool[i]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...t):e(i)&&i.acquire(...t),i},n.release=function(t){t&&!o.test.disabled&&(this._releaseFunction?this._releaseFunction(t):i(t)&&t.release(),this._pool.push(t))},n.prune=function(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const t=this._pool[i];this._dispose(t)}this._pool.length=t}},n._dispose=function(t){t.dispose&&"function"==typeof t.dispose&&t.dispose()},t._createClass(o)}();return o.test={disabled:!1},o}));
