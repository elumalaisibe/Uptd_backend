/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/_rollupPluginBabelHelpers"],(function(t,e){"use strict";let n=function(){function t(t){this._accessed=[],this._handles=[],this._observerObject=new s(t),i.register(this,new WeakRef(this._observerObject),this)}var n=t.prototype;return n.destroy=function(){i.unregister(this._observerObject),this._accessed.length=0,this._observerObject?.destroy(),this.clear()},n.onObservableAccessed=function(t){const e=this._accessed;e.includes(t)||e.push(t)},n.onTrackingEnd=function(){const t=this._handles,e=this._accessed,n=this._observerObject;for(let s=0;s<e.length;++s)t.push(e[s].observe(n));e.length=0},n.clear=function(){const t=this._handles;for(let e=0;e<t.length;++e)t[e].remove();t.length=0},e._createClass(t)}(),s=function(){function t(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}var n=t.prototype;return n.onInvalidated=function(){this._invalidCount++},n.onCommitted=function(){if(this.destroyed)return;const t=this._invalidCount;if(1===t)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0},n.destroy=function(){this.destroyed=!0,this._notify=o},e._createClass(t)}();const i=new FinalizationRegistry((t=>{t.deref()?.destroy()}));function o(){}t.SimpleTrackingTarget=n,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
