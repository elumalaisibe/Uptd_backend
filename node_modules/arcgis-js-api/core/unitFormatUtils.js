/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
define(["exports","./ByteSizeUnit","./Cyclical","./mathUtils","./string","./unitUtils","../intl/number"],(function(t,e,r,n,i,o,a){"use strict";function c(t,e,r){return t.units[e][r]}function m(t,e,r,n=2,i="abbr"){return`${a.formatNumber(e,{minimumFractionDigits:n,maximumFractionDigits:n,signDisplay:e>0?"never":"exceptZero"})} ${c(t,r,i)}`}function u(t,e,r,n=2,i="abbr"){return`${a.formatNumber(e,{minimumFractionDigits:n,maximumFractionDigits:n,signDisplay:"exceptZero"})} ${c(t,r,i)}`}function l(t,e,r,n=2,i="abbr"){const a=o.preferredMetricLengthUnit(e,r);return m(t,o.convertUnit(e,r,a),a,n,i)}function f(t,e,r,n=2,i="abbr"){const a=o.preferredMetricLengthUnit(e,r);return u(t,o.convertUnit(e,r,a),a,n,i)}function s(t,e,r,n=2,i="abbr"){const a=o.preferredMetricVerticalLengthUnit(e,r);return m(t,o.convertUnit(e,r,a),a,n,i)}function g(t,e,r,n=2,i="abbr"){const a=o.preferredMetricVerticalLengthUnit(e,r);return u(t,o.convertUnit(e,r,a),a,n,i)}function p(t,e,r,n=2,i="abbr"){const a=o.preferredImperialLengthUnit(e,r);return m(t,o.convertUnit(e,r,a),a,n,i)}function b(t,e,r,n=2,i="abbr"){const a=o.preferredImperialLengthUnit(e,r);return u(t,o.convertUnit(e,r,a),a,n,i)}function U(t,e,r,n=2,i="abbr"){const a=o.preferredImperialVerticalLengthUnit(e,r);return m(t,o.convertUnit(e,r,a),a,n,i)}function h(t,e,r,n=2,i="abbr"){const a=o.preferredImperialVerticalLengthUnit(e,r);return u(t,o.convertUnit(e,r,a),a,n,i)}function v(t,e,r,n=2,i="abbr"){const a=o.preferredMetricAreaUnit(e,r);return m(t,o.convertUnit(e,r,a),a,n,i)}function d(t,e,r,n=2,i="abbr"){const a=o.preferredImperialAreaUnit(e,r);return m(t,o.convertUnit(e,r,a),a,n,i)}function D(t,e,r=2){let n=o.convertUnit(t,e,"degrees"),i=n-Math.floor(n);n-=i,i*=60;let a=i-Math.floor(i);return i-=a,a*=60,`${n.toFixed()}Â° ${i.toFixed()}' ${a.toFixed(r)}"`}function M(t,e,n,i,c){c=c??2;let m=r.cyclicalDegrees.normalize(x(o.convertUnit(t,e,"degrees"),n,i),0,!0);const u={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:c,minimumFractionDigits:c,signDisplay:m>0?"never":"exceptZero"};return m=F(m,u),a.formatNumber(m,u)}function L(t,e,r,n,i){r!==n&&(t=-t);const c={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:i=i??2,minimumFractionDigits:i,signDisplay:"exceptZero"};let m=o.convertUnit(t,e,"degrees")%360;return m=F(m,c),a.formatNumber(m,c)}const y=new Map;function F(t,e){const r=JSON.stringify(e);let n=y.get(r);return n||(n=new Intl.NumberFormat("en-US",e),y.set(r,n)),/\-?\+?360/.test(n.format(t))?0:t}function x(t,e,r){if(e===r)return t;switch(r){case"arithmetic":return I(t);case"geographic":return S(t)}}function I(t){return 90-t}function S(t){return-t-90}const B=["B","kB","MB","GB","TB"];function N(t,r){let o=0===r?0:Math.floor(Math.log(r)/Math.log(e.ByteSizeUnit.KILOBYTES));o=n.clamp(o,0,B.length-1);const c=a.formatNumber(r/e.ByteSizeUnit.KILOBYTES**o,{maximumFractionDigits:2});return i.replace(t.units.bytes[B[o]],{fileSize:c})}t.formatAngleDegrees=M,t.formatDMS=D,t.formatDecimal=m,t.formatFileSize=N,t.formatImperialArea=d,t.formatImperialLength=p,t.formatImperialRelativeLength=b,t.formatImperialRelativeVerticalLength=h,t.formatImperialVerticalLength=U,t.formatMetricArea=v,t.formatMetricLength=l,t.formatMetricRelativeLength=f,t.formatMetricRelativeVerticalLength=g,t.formatMetricVerticalLength=s,t.formatRelativeAngleDegrees=L,t.formatRelativeDecimal=u,t.unitName=c,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
